--TEST--
Test that conflict on a branch alias is ignored if the alias is not required for installation.

The alias ends up being marked installed anyway because the install step doesn't know that the branch alias which is
present in the lock file was ignored during resolution. This is acceptable as deps were resolvable without the alias
and we don't want to modify branch alias meta data in the lock file.
--COMPOSER--
{
    "repositories": [
        {
            "type": "package",
            "package": [
                { "name": "some/dep", "version": "1.0.0" },
                { "name": "some/dep", "version": "1.1.0" },
                { "name": "some/dep", "version": "1.2.0" },
                { "name": "some/dep", "version": "dev-main", "extra": {"branch-alias": {"dev-main": "1.3.x-dev"} } },
                { "name": "some/dep", "version": "1.2.x-dev" }
            ]
        }
    ],
    "require": {
        "some/dep": "dev-main"
    },
    "conflict": {
        "some/dep": ">=1.3"
    }
}
--RUN--
update
--EXPECT-LOCK--
{
    "packages": [
        { "name": "some/dep", "version": "dev-main", "type": "library", "extra": {"branch-alias": {"dev-main": "1.3.x-dev"} } }
    ],
    "packages-dev": [],
    "aliases": [],
    "minimum-stability": "stable",
    "stability-flags": {
        "some/dep": 20
    },
    "prefer-stable": false,
    "prefer-lowest": false,
    "platform": [],
    "platform-dev": []
}
--EXPECT--
Installing some/dep (dev-main)
Marking some/dep (1.3.x-dev) as installed, alias of some/dep (dev-main)
